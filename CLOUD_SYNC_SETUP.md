# Cloud Sync Setup Guide

‚òÅÔ∏è –¶–µ–π guide –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ —Ö–º–∞—Ä—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Supabase.

## –ü–µ—Ä–µ–≤–∞–≥–∏ Cloud Sync:

- ‚úÖ –î–æ—Å—Ç—É–ø –¥–æ –≤–∞—à–∏—Ö –¥–∞–Ω–∏—Ö –∑ –±—É–¥—å-—è–∫–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 2 —Å–µ–∫—É–Ω–¥–∏
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –¥–æ 500MB –¥–∞–Ω–∏—Ö
- ‚úÖ –ü—Ä–∞—Ü—é—î –æ—Ñ–ª–∞–π–Ω (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î LocalStorage)
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

## –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Supabase –ø—Ä–æ—î–∫—Ç—É

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [supabase.com](https://supabase.com)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Start your project" —Ç–∞ —Å—Ç–≤–æ—Ä—ñ—Ç—å –∞–∫–∞—É–Ω—Ç (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "New Project"
4. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å:
   - **Name**: `solo-fitness` (–∞–±–æ –±—É–¥—å-—è–∫–∞ –Ω–∞–∑–≤–∞)
   - **Database Password**: –ü—Ä–∏–¥—É–º–∞–π—Ç–µ —Å–∫–ª–∞–¥–Ω–∏–π –ø–∞—Ä–æ–ª—å (–∑–±–µ—Ä–µ–∂—ñ—Ç—å –π–æ–≥–æ!)
   - **Region**: –í–∏–±–µ—Ä—ñ—Ç—å –Ω–∞–π–±–ª–∏–∂—á–∏–π —Ä–µ–≥—ñ–æ–Ω
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create new project"
6. –ó–∞—á–µ–∫–∞–π—Ç–µ 1-2 —Ö–≤–∏–ª–∏–Ω–∏ –ø–æ–∫–∏ –ø—Ä–æ—î–∫—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è

## –ö—Ä–æ–∫ 2: –û—Ç—Ä–∏–º–∞–Ω–Ω—è API –∫–ª—é—á—ñ–≤

1. –í –ª—ñ–≤–æ–º—É –º–µ–Ω—é –≤–∏–±–µ—Ä—ñ—Ç—å **Settings** (‚öôÔ∏è)
2. –í–∏–±–µ—Ä—ñ—Ç—å **API**
3. –ó–Ω–∞–π–¥—ñ—Ç—å —Å–µ–∫—Ü—ñ—é **Project API keys**
4. –°–∫–æ–ø—ñ—é–π—Ç–µ:
   - **Project URL** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `https://xxxxx.supabase.co`)
   - **anon public** key (–¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫)

## –ö—Ä–æ–∫ 3: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è .env —Ñ–∞–π–ª—É

1. –í –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É `Solo/` —Å—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env`
2. –î–æ–¥–∞–π—Ç–µ –≤–∞—à—ñ –∫–ª—é—á—ñ:

```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
```

**–í–∞–∂–ª–∏–≤–æ:** –ó–∞–º—ñ–Ω—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ –≤–∞—à—ñ —Å–ø—Ä–∞–≤–∂–Ω—ñ –∫–ª—é—á—ñ!

## –ö—Ä–æ–∫ 4: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö

1. –í Supabase dashboard –ø–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **SQL Editor** (üìù)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "New query"
3. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–∞ –≤—Å—Ç–∞–≤—Ç–µ —Ü–µ–π SQL –∫–æ–¥:

```sql
-- Enable UUID extension
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- Create user_data table
CREATE TABLE IF NOT EXISTS user_data (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  game_data JSONB NOT NULL,
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(user_id)
);

-- Enable Row Level Security
ALTER TABLE user_data ENABLE ROW LEVEL SECURITY;

-- Create policy for users to read their own data
CREATE POLICY "Users can read own data" ON user_data
  FOR SELECT
  USING (auth.uid() = user_id);

-- Create policy for users to insert their own data
CREATE POLICY "Users can insert own data" ON user_data
  FOR INSERT
  WITH CHECK (auth.uid() = user_id);

-- Create policy for users to update their own data
CREATE POLICY "Users can update own data" ON user_data
  FOR UPDATE
  USING (auth.uid() = user_id);

-- Create index for faster queries
CREATE INDEX idx_user_data_user_id ON user_data(user_id);
```

4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **RUN** (‚ñ∂Ô∏è)
5. –ü–æ–≤–∏–Ω–Ω–æ –∑'—è–≤–∏—Ç–∏—Å—è "Success. No rows returned"

## –ö—Ä–æ–∫ 5: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

### Email –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (–≤–∂–µ –ø—Ä–∞—Ü—é—î!)

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º email auth –≤–∂–µ —É–≤—ñ–º–∫–Ω–µ–Ω–æ.

### Google –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (–æ–ø—Ü—ñ–π–Ω–æ)

1. –í Supabase dashboard –ø–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Authentication** ‚Üí **Providers**
2. –ó–Ω–∞–π–¥—ñ—Ç—å **Google** —Ç–∞ —É–≤—ñ–º–∫–Ω—ñ—Ç—å –π–æ–≥–æ
3. –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ:
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ—î–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com)
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ OAuth 2.0 credentials
   - –î–æ–¥–∞—Ç–∏ Client ID —Ç–∞ Client Secret –≤ Supabase
4. –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: [Supabase Google Auth Docs](https://supabase.com/docs/guides/auth/social-login/auth-google)

## –ö—Ä–æ–∫ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫

```bash
# –ó—É–ø–∏–Ω—ñ—Ç—å dev server (Ctrl+C)
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑–Ω–æ–≤—É
npm run dev
```

## –ö—Ä–æ–∫ 7: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–æ–¥–∞—Ç–æ–∫
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Settings**
3. –í —Å–µ–∫—Ü—ñ—ó "Cloud Sync" –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ —Ñ–æ—Ä–º—É –≤—Ö–æ–¥—É
4. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å –∑ email –∞–±–æ —É–≤—ñ–π–¥—ñ—Ç—å —á–µ—Ä–µ–∑ Google
5. –ü—ñ—Å–ª—è –≤—Ö–æ–¥—É –≤–∞—à—ñ –¥–∞–Ω—ñ –ø–æ—á–Ω—É—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ!

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏:

1. –î–æ–¥–∞–π—Ç–µ —è–∫–∏–π—Å—å –ø—Ä–æ–≥—Ä–µ—Å –≤ Quests
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –ü–æ–≤–∏–Ω–Ω—ñ –±–∞—á–∏—Ç–∏: `‚úÖ Data synced to cloud`
4. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞ —ñ–Ω—à–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó
5. –£–≤—ñ–π–¥—ñ—Ç—å –∑ —Ç–∏–º —Å–∞–º–∏–º email
6. –í–∞—à—ñ –¥–∞–Ω—ñ –∑'—è–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ!

## Troubleshooting

### "Cloud Sync Not Configured"

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ `.env` —Ñ–∞–π–ª —Å—Ç–≤–æ—Ä–µ–Ω–æ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π –ø–∞–ø—Ü—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –∫–ª—é—á—ñ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ (–±–µ–∑ –∑–∞–π–≤–∏—Ö –ø—Ä–æ–±—ñ–ª—ñ–≤)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å dev server

### "Failed to sync"

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ SQL –∫–æ–¥ –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ RLS policies —Å—Ç–≤–æ—Ä–µ–Ω–æ
- –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É –ø–æ–º–∏–ª–∫—É

### –î–∞–Ω—ñ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å—Å—è

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –≤–∏ —É–≤—ñ–π—à–ª–∏ –≤ –∞–∫–∞—É–Ω—Ç
- –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è "Last sync" –≤ Settings
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Sync Now" –¥–ª—è —Ä—É—á–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –ø–æ–º–∏–ª–∫–∏

## –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ `.env` —Ñ–∞–π–ª –≤ `.gitignore` - –≤–∞—à—ñ –∫–ª—é—á—ñ –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—Ç—å –≤ git
- ‚úÖ Row Level Security —É–≤—ñ–º–∫–Ω–µ–Ω–æ - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó –¥–∞–Ω—ñ
- ‚úÖ Supabase Auth - –±–µ–∑–ø–µ—á–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- ‚úÖ HTTPS - –≤—Å—ñ –¥–∞–Ω—ñ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –±–µ–∑–ø–µ—á–Ω–æ

## –î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

–ü—Ä–∏ –¥–µ–ø–ª–æ—ó –Ω–∞ Netlify/Vercel:

1. –í –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –ø—Ä–æ—î–∫—Ç—É –¥–æ–¥–∞–π—Ç–µ Environment Variables:
   - `VITE_SUPABASE_URL`
   - `VITE_SUPABASE_ANON_KEY`
2. Rebuild –ø—Ä–æ—î–∫—Ç
3. Cloud sync –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –Ω–∞ production!

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ —â–æ—Å—å –Ω–µ –ø—Ä–∞—Ü—é—î:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Supabase logs –≤ dashboard
3. –°—Ç–≤–æ—Ä—ñ—Ç—å issue –≤ GitHub

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä –≤–∞—à—ñ –¥–∞–Ω—ñ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å—Å—è –≤ —Ö–º–∞—Ä—ñ! ‚òÅÔ∏èüéâ
